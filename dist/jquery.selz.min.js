!function(e){"use strict";function n(){e(document.body).on("click","a[href^='"+r.shortDomain+"/']",i),e(window).on("message",c).on("unload",function(){e.isFunction(r.onClose)&&"checkoutData"in r&&r.onClose(u.checkoutData)})}function t(e){return"undefined"==typeof e||null===e||""===e}function o(n,t){"undefined"!=typeof u.items[n.attr("href")]?a(n,u.items[n.attr("href")],t,!1):e.getJSON(r.domain+"/embed/itemdata/?itemurl="+n.attr("href")+"&callback=?",function(e){n.data("modal-url",e.Url),u.items[n.attr("href")]=e,a(n,e,t,!0)}).fail(function(){"console"in window&&console.error("Whoops. It looks like your link is to a product that can't be found!")})}function a(n,t,o,a){e.isFunction(o)&&o(t),e.isFunction(r.onDataReady)&&a&&r.onDataReady(n,t)}function i(n){var t=e(this),a=t.data("modal-url");n.preventDefault(),"string"==typeof a&&a.length>0?window._$elz.m.open(a,null):o(t,function(e){window._$elz.m.open(e.Url,null)}),e.isFunction(r.onModalOpen)&&r.onModalOpen(t),u.currentTrigger=t}function c(n){n=n.originalEvent;var o=n.data;if(n.origin===r.domain&&"string"==typeof o)try{var a=JSON.parse(o);switch(a.key){case"modal-theme":var i={};if(e.each(r.theme,function(n,t){switch(n){case"button":e.each(t,function(e,n){switch(e){case"bg":i.cb=n;break;case"text":i.ct=n}});break;case"checkout":e.each(t,function(e,n){switch(e){case"headerBg":i.chbg=n;break;case"headerText":i.chtx=n}})}}),n.source.postMessage(JSON.stringify({key:"modal-theme",data:Object.size(i)?i:null}),r.domain),e.isFunction(r.getTracking)){var c=r.getTracking(u.currentTrigger);t(c)||n.source.postMessage(JSON.stringify({key:"set-tracking",data:c}),r.domain)}break;case"purchase":e.isFunction(r.onPurchase)&&r.onPurchase(a.data);break;case"processing":e.isFunction(r.onProcessing)&&r.onProcessing(a.data);break;case"modal-close":e.isFunction(r.onClose)&&r.onClose(u.currentTrigger,a.data);break;case"beforeunload":u.checkoutData=a.data}}catch(s){}}function s(){e("a[href^='"+r.shortDomain+"/']").each(function(){o(e(this),null)})}window._$elz=window._$elz||{};var r={domain:"https://selz.com",shortDomain:"http://selz.co",prefetch:!1,items:{},theme:{}},u={items:{}};Object.size=function(e){var n,t=0;for(n in e)e.hasOwnProperty(n)&&t++;return t},window._$elz.m=window._$elz.m||{s:{src:r.domain+"/assets/js/embed/modal.js"}},"undefined"==typeof window._$elz.m.open?e.getScript(window._$elz.m.s.src,function(){n()}):n(),e.selz=function(n){e.extend(!0,r,n),s()}}(window.jQuery);