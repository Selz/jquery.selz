// ==========================================================================
// Modal overlay
// This file is served on the external website hosting the embed
// ==========================================================================

// Variables
// --------------------------------------------
@gray:                                  #565D64;
@loader-size-base:                      24px;
@loader-border-width-base:              3px;
@loader-bg-base:                        #6F7E86;

// Spin
// --------------------------------------------
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

#_selz-modal {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
    position: fixed;
    transform: translateZ(0);
    z-index: 999999999; // Always on top
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    background: rgba(46, 60, 68, 0.75);

    #_selz-modal-body {
        position: relative;
        text-align: center;

        iframe {
            width: 100% !important;
            height: 1500px; // Set a high default height - it is reset by postMessage, but just incase there's an issue
            border: 0 !important;
            background: transparent !important;
        }
    }

    // Loader block
    // ---------------------------
    #_selz-modal-spinner {
        box-sizing: border-box;
        position: absolute;
        top: 50%;
        left: 50%;
        width: 150px;
        padding: 15px;
        z-index: 20;
        margin-left: -75px;
        text-align: center;
        color: @gray;
        text-shadow: none;

        // Style
        border-radius: 4px;
        background: #fff;
        box-shadow: 0 1px 2px rgba(0,0,0, .2);
    }

    &.cssanimations #_selz-modal-spinner {
        @size: floor(@loader-size-base * 1.75);

        width: @size;
        height: @size;
        padding: 0;
        margin-left: -@size / 2;
        margin-top: -@size / 2;

        // Hide text
        text-indent: 99em;
        text-overflow: clip;
        white-space: nowrap;

        // Spinner
        &:before {
            box-sizing: border-box;
            position: absolute;
            left: 50%;
            top: 50%;
            display: inline-block;
            width: @loader-size-base;
            height: @loader-size-base;
            margin: -@loader-size-base / 2 0 0 -@loader-size-base / 2;
            animation: spin 1s infinite linear;
            border-radius: 50%;

            text-indent: 99em;
            overflow: hidden;
            white-space: nowrap;

            content: "";

            border: @loader-border-width-base solid rgba(red(@loader-bg-base), green(@loader-bg-base), blue(@loader-bg-base), .2);
            border-left-color: @loader-bg-base;
        }
    }
}