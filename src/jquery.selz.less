// ==========================================================================
// Modal overlay
// This file is served on the external website hosting the embed
// ==========================================================================

// Variables
// --------------------------------------------
@gray-dark:              #343f4a;
@gray:                   #55646b;
@overlay-bg:             fade(@gray-dark, 75%);
@loader-size:            20px;
@loader-bg:              #fff;
@loader-width:           2px;
@loader-color:           @gray;

// Animations
// --------------------------------------------
@keyframes fade-in {
    0%      { opacity: 0 }
    100%    { opacity: 1 }
}
@keyframes spin {
    0%      { transform: rotate(0deg); }
    100%    { transform: rotate(360deg); }
}

#_selz-modal {
    -webkit-overflow-scrolling: touch;
    box-sizing: border-box;
    overflow: auto;
    position: fixed;
    z-index: 999999999; // Always on top
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    background: @overlay-bg;  
    animation: fade-in .3s 0s 1 ease forwards;

    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }
}

#_selz-modal-body {
    position: relative;
    text-align: center;
    height: 100%;

    iframe {
        display: block;
        width: 100%;
        height: 100%;
        border: 0;
        transition: opacity .3s .2s ease;
        opacity: 0;
    }
}

// Loader block
// ---------------------------
#_selz-modal-spinner {
    display: none;
    position: absolute;
    z-index: 20;
    top: 50%;
    left: 50%;
    width: 120px;
    padding: 10px 20px;
    transform: translate(-50%, -50%);

    // Style
    border-radius: 50px;
    background: @loader-bg;

    // Text
    color: @loader-color;
}

#_selz-modal.cssanimations #_selz-modal-spinner {
    @size: floor(@loader-size * 1.8); // 36px
    width: @size;
    height: @size;
    padding: 0;

    // Hide text
    text-indent: 99em;
    text-overflow: clip;
    white-space: nowrap;
    font-size: 0;

    // Spinner
    &:before {
        box-sizing: border-box;
        position: absolute;
        top: 50%;
        left: 50%;
        display: inline-block;
        width: @loader-size;
        height: @loader-size;
        margin: -(@loader-size / 2) 0 0 -(@loader-size / 2);

        border: @loader-width solid currentColor;
        border-left-color: fade(#000, 10%);
        border-bottom-color: fade(#000, 10%);
        animation: spin .45s infinite linear;
        border-radius: 50%;
        color: inherit;

        // Hide text
        text-indent: 99em;
        overflow: hidden;
        white-space: nowrap;
        font-size: 0;

        content: "Loading...";
    }
}
