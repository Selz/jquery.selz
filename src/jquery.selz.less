// ==========================================================================
// Modal overlay
// This file is served on the external website hosting the embed
// ==========================================================================

// Variables
// --------------------------------------------
@gray-dark:                             #343f4a;
@gray:                                  #55646b;

@overlay-bg:                            rgba(red(@gray-dark), green(@gray-dark), blue(@gray-dark), .75);
@border-radius-base:                    3px;

@loader-size-base:                      24px;
@loader-border-width-base:              3px;
@loader-bg-base:                        #6F7E86;
@loader-border-width:                   1px;
@loader-border-color:                   #fff;

// Loader border
// ---------------------------------------
.loader-border-color(@color) {
    border-color: rgba(red(@color), green(@color), blue(@color), .2);
    border-left-color: @color;
}

// Animations
// --------------------------------------------
@keyframes fade-in {
    0%      { opacity: 0 }
    100%    { opacity: 1 }
}
@keyframes spin {
    0%      { transform: rotate(0deg); }
    100%    { transform: rotate(360deg); }
}

#_selz-modal {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
    position: fixed;
    transform: translateZ(0);
    z-index: 999999999; // Always on top
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    background: @overlay-bg;
    animation: fade-in .3s 0s 1 ease forwards;
}

#_selz-modal-body {
    position: relative;
    text-align: center;

    iframe {
        width: 100%;
        height: 100%;
        border: 0;
        background: transparent;
        transform: translate3d(0,0,0);
        transition: opacity .3s 2s ease;
        opacity: 0;
    }
}

// Loader block
// ---------------------------
#_selz-modal-spinner {
    box-sizing: border-box;
    
    display: none;
    position: absolute;
    z-index: 20;
    top: 50%;
    left: 50%;
    width: 120px;
    padding: 10px 20px;
    transform: translate(-50%, -50%);

    // Style
    border-radius: 50px;
    background: rgba(red(@gray-dark), green(@gray-dark), blue(@gray-dark), .75);

    // Text
    color: #fff;
    text-align: center;
}

#_selz-modal.cssanimations #_selz-modal-spinner {
    @size: floor(@loader-size-base * 1.75);
    width: @size;
    height: @size;
    
    // Hide text
    text-indent: 99em;
    text-overflow: clip;
    white-space: nowrap;
    font-size: 0;

    // Spinner
    &:before {
        box-sizing: border-box;
        position: absolute;
        top: 50%;
        left: 50%;
        display: inline-block;
        width: @loader-size-base;
        height: @loader-size-base;
        margin: -(@loader-size-base / 2) 0 0 -(@loader-size-base / 2);

        border-width: @loader-border-width;
        border-style: solid;
        .loader-border-color(@loader-border-color);
        animation: spin .6s infinite linear;
        border-radius: 50%;

        // Hide text
        text-indent: 99em;
        overflow: hidden;
        white-space: nowrap;
        font-size: 0;

        content: "Loading...";
    }
}