!function(t){"use strict";function e(){t(document.body).on("click","a[href^='"+c.shortDomain+"/']",i),t(window).on("message",a)}function n(t){return"undefined"==typeof t||null===t||""===t}function o(e,n){"undefined"!=typeof c.items[e.attr("href")]?s(e,c.items[e.attr("href")],n,!1):t.getJSON(c.domain+"/embed/itemdata/?itemUrl="+e.attr("href")+"&callback=?",function(t){e.data("modal-url",t.Url),c.items[e.attr("href")]=t,s(e,t,n,!0)})}function s(e,n,o,s){t.isFunction(o)&&o(n),t.isFunction(c.settings.onDataReady)&&s&&c.settings.onDataReady(e,n)}function i(e){var n=t(e.target),s=n.data("modal-url");"string"==typeof s&&s.length>0?window._$elz.m.open(s,null):o(n,function(t){window._$elz.m.open(t.Url,null)}),t.isFunction(c.settings.onModalOpen)&&c.settings.onModalOpen(n),c.currentTrigger=n,e.preventDefault()}function a(e){e=e.originalEvent;var o=e.data;if(e.origin===c.domain&&"string"==typeof o)try{var s=JSON.parse(o);switch(s.key){case"modal-theme":if(null!==c.settings.colors&&(e.source.postMessage(JSON.stringify({key:"modal-theme",data:c.settings.colors.buttonText+","+c.settings.colors.buttonBg}),c.domain),t.isFunction(c.settings.getCustomParameter))){var i=c.settings.getCustomParameter(c.currentTrigger);n(i)||e.source.postMessage(JSON.stringify({key:"custom-parameter",data:i}),c.domain)}break;case"purchase":t.isFunction(c.settings.onPurchase)&&c.settings.onPurchase(s.data);break;case"processing":t.isFunction(c.settings.onProcessing)&&c.settings.onProcessing(s.data);break;case"modal-close":t.isFunction(c.settings.onClose)&&c.settings.onClose(s.data)}}catch(a){}}function r(t,e){"string"==typeof e&&e.length>0&&(null===c.settings.colors&&(c.settings.colors={}),c.settings.colors[t]=e)}function d(){t("a[href^='"+c.shortDomain+"/']").each(function(e,n){o(t(n),null)})}window._$elz=window._$elz||{};var c={domain:"https://selz.com",shortDomain:"http://selz.co",settings:{colors:null,prefetch:!1},items:{}};window._$elz.m=window._$elz.m||{s:{src:c.domain+"/assets/js/embed/modal.js"}},"undefined"==typeof window._$elz.m.open?t.getScript(window._$elz.m.s.src,function(){e()}):e(),t.selz=function(t){"undefined"!=typeof t.domain&&(c.domain=t.domain),"undefined"!=typeof t.shortDomain&&(c.shortDomain=t.shortDomain),r("buttonBg",t.buttonBg),r("buttonText",t.buttonText),"undefined"!=typeof t.onDataReady&&(c.settings.onDataReady=t.onDataReady),"undefined"!=typeof t.onModalOpen&&(c.settings.onModalOpen=t.onModalOpen),"undefined"!=typeof t.onPurchase&&(c.settings.onPurchase=t.onPurchase),"undefined"!=typeof t.onProcessing&&(c.settings.onProcessing=t.onProcessing),"undefined"!=typeof t.onClose&&(c.settings.onClose=t.onClose),"undefined"!=typeof t.getCustomParameter&&(c.settings.getCustomParameter=t.getCustomParameter),t.prefetch&&(c.settings.prefetch=!0,d())}}(window.jQuery);