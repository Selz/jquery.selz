!function(e){"use strict";function t(){e(document.body).on("click","a[href^='"+s.shortDomain+"/']",i),e(window).on("message",c).on("unload",function(){e.isFunction(s.onClose)&&"checkoutData"in s&&s.onClose(u.checkoutData)})}function n(e){return"undefined"==typeof e||null===e||""===e}function o(t,n){"undefined"!=typeof u.items[t.attr("href")]?a(t,u.items[t.attr("href")],n,!1):e.getJSON(s.domain+"/embed/itemdata/?itemurl="+t.attr("href")+"&callback=?",function(e){t.data("modal-url",e.Url),u.items[t.attr("href")]=e,a(t,e,n,!0)}).fail(function(){console.error("Woops. It looks like your link is to a product that can't be found!")})}function a(t,n,o,a){e.isFunction(o)&&o(n),e.isFunction(s.onDataReady)&&a&&s.onDataReady(t,n)}function i(t){var n=e(t.target),a=n.data("modal-url");"string"==typeof a&&a.length>0?window._$elz.m.open(a,null):o(n,function(e){window._$elz.m.open(e.Url,null)}),e.isFunction(s.onModalOpen)&&s.onModalOpen(n),u.currentTrigger=n,t.preventDefault()}function c(t){t=t.originalEvent;var o=t.data;if(t.origin===s.domain&&"string"==typeof o)try{var a=JSON.parse(o);switch(a.key){case"modal-theme":if(console.log(s.theme.checkout.headerBg),null!==s.theme&&t.source.postMessage(JSON.stringify({key:"modal-theme",data:{ct:s.theme.button.text,cb:s.theme.button.bg,chbg:s.theme.checkout.headerBg,chtx:s.theme.checkout.headerText}}),s.domain),e.isFunction(s.getTracking)){var i=s.getTracking(u.currentTrigger);n(i)||t.source.postMessage(JSON.stringify({key:"set-tracking",data:i}),s.domain)}break;case"purchase":e.isFunction(s.onPurchase)&&s.onPurchase(a.data);break;case"processing":e.isFunction(s.onProcessing)&&s.onProcessing(a.data);break;case"modal-close":e.isFunction(s.onClose)&&s.onClose(s.currentTrigger,a.data);break;case"beforeunload":u.checkoutData=a.data}}catch(c){}}function r(){e("a[href^='"+s.shortDomain+"/']").each(function(t,n){o(e(n),null)})}window._$elz=window._$elz||{};var s={domain:"https://selz.com",shortDomain:"http://selz.co",prefetch:!1,items:{},theme:{checkout:{},button:{}}},u={items:{}};window._$elz.m=window._$elz.m||{s:{src:s.domain+"/assets/js/embed/modal.js"}},"undefined"==typeof window._$elz.m.open?e.getScript(window._$elz.m.s.src,function(){t()}):t(),e.selz=function(t){e.extend(!0,s,t),s.prefetch&&r()}}(window.jQuery);