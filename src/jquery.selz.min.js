var _$elz=_$elz||{};!function(t){function n(){t(document.body).on("click",'a[href^="'+r.shortDomain+'/"]',s),t(window).on("message",i)}function e(n,e){"undefined"!=typeof r.items[n.attr("href")]?o(n,r.items[n.attr("href")],e,!1):t.getJSON(r.domain+"/embed/itemdata/?itemUrl="+n.attr("href")+"&callback=?",function(t){n.data("modal-url",t.Url),r.items[n.attr("href")]=t,o(n,t,e,!0)})}function o(n,e,o,s){t.isFunction(o)&&o(e),t.isFunction(r.settings.onDataReady)&&s&&r.settings.onDataReady(n,e)}function s(){{var n=t(this),o=n.data("modal-url");n.attr("href")}return"string"==typeof o&&o.length>0?_$elz.m.open(o,null):e(n,function(t){_$elz.m.open(t.Url,null)}),t.isFunction(r.settings.onModalOpen)&&r.settings.onModalOpen(n),!1}function i(n){var e=null,o=n.originalEvent;if(o.origin===r.domain&&null!==r.settings.colors){if("undefined"!=typeof o.message?e=o.message:"undefined"!=typeof o.data&&(e=o.data),"_$elz_modal_colors"===e){var s=r.settings.colors.buttonText+","+r.settings.colors.buttonBg;o.source.postMessage(s,r.domain)}var i=e.split("|"),a=i[0],l=i[1];switch(a){case"purchase":t.isFunction(r.settings.onPurchase)&&r.settings.onPurchase(JSON.parse(l))}}}function a(t,n){"string"==typeof n&&n.length>0&&(null===r.settings.colors&&(r.settings.colors={}),r.settings.colors[t]=n)}function l(){t('a[href^="'+r.shortDomain+'/"]').each(function(n,o){e(t(o),null)})}var r={domain:"https://selz.com",shortDomain:"http://selz.co",settings:{colors:null,prefetch:!1},items:{}};_$elz.m=_$elz.m||{s:{src:r.domain+"/assets/js/embed/modal.js"}},"undefined"==typeof _$elz.m.open?t.getScript(_$elz.m.s.src,function(){n()}):n(),t.selz=function(t){a("buttonBg",t.buttonBg),a("buttonText",t.buttonText),"undefined"!=typeof t.onDataReady&&(r.settings.onDataReady=t.onDataReady),"undefined"!=typeof t.onModalOpen&&(r.settings.onModalOpen=t.onModalOpen),"undefined"!=typeof t.onPurchase&&(r.settings.onPurchase=t.onPurchase),t.prefetch&&(r.settings.prefetch=!0,l())}}(window.jQuery);