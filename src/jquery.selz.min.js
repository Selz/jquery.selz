!function(n){"use strict";function e(){n(document.body).on("click","a[href^='"+r.shortDomain+"/']",d),n(window).on("message",s)}function t(e,t){"undefined"!=typeof r.items[e.attr("href")]?o(e,r.items[e.attr("href")],t,!1):n.getJSON(r.domain+"/embed/itemdata/?itemUrl="+e.attr("href")+"&callback=?",function(n){e.data("modal-url",n.Url),r.items[e.attr("href")]=n,o(e,n,t,!0)})}function o(e,t,o,s){n.isFunction(o)&&o(t),n.isFunction(r.settings.onDataReady)&&s&&r.settings.onDataReady(e,t)}function s(e){var t=null,o=e.originalEvent;if(o.origin===r.domain){if("undefined"!=typeof o.message?t=o.message:"undefined"!=typeof o.data&&(t=o.data),"modaltheme|get"===t&&null!==r.settings.colors){var s=r.settings.colors.buttonText+","+r.settings.colors.buttonBg;return void o.source.postMessage(s,r.domain)}var i=t.split("|"),a=i[0],d=i[1];switch(a){case"purchase":n.isFunction(r.settings.onPurchase)&&r.settings.onPurchase(JSON.parse(d));break;case"processing":n.isFunction(r.settings.onProcessing)&&r.settings.onProcessing(JSON.parse(d))}}}function i(n,e){"string"==typeof e&&e.length>0&&(null===r.settings.colors&&(r.settings.colors={}),r.settings.colors[n]=e)}function a(){n("a[href^='"+r.shortDomain+"/']").each(function(e,o){t(n(o),null)})}window._$elz=window._$elz||{};var r={domain:"https://selz.com",shortDomain:"http://selz.co",settings:{colors:null,prefetch:!1},items:{}},d=function(){var e=n(this),o=e.data("modal-url");return"string"==typeof o&&o.length>0?window._$elz.m.open(o,null):t(e,function(n){window._$elz.m.open(n.Url,null)}),n.isFunction(r.settings.onModalOpen)&&r.settings.onModalOpen(e),!1};window._$elz.m=window._$elz.m||{s:{src:r.domain+"/assets/js/embed/modal.js"}},"undefined"==typeof window._$elz.m.open?n.getScript(window._$elz.m.s.src,function(){e()}):e(),n.selz=function(n){"undefined"!=typeof n.domain&&(r.domain=n.domain),"undefined"!=typeof n.shortDomain&&(r.shortDomain=n.shortDomain),i("buttonBg",n.buttonBg),i("buttonText",n.buttonText),"undefined"!=typeof n.onDataReady&&(r.settings.onDataReady=n.onDataReady),"undefined"!=typeof n.onModalOpen&&(r.settings.onModalOpen=n.onModalOpen),"undefined"!=typeof n.onPurchase&&(r.settings.onPurchase=n.onPurchase),"undefined"!=typeof n.onProcessing&&(r.settings.onProcessing=n.onProcessing),n.prefetch&&(r.settings.prefetch=!0,a())}}(window.jQuery);